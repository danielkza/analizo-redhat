Name:           perl-Chart-Gnuplot
Version:        0.23
Release:        2%{?dist}
Summary:        Plot graph using Gnuplot in Perl on the fly
License:        GPL+ or Artistic
Group:          Development/Libraries
URL:            http://search.cpan.org/dist/Chart-Gnuplot/
Source0:        http://search.cpan.org/CPAN/authors/id/K/KW/KWMAK/Chart/Gnuplot/Chart-Gnuplot-0.23.tar.gz
BuildRoot:      %{_tmppath}/%{name}-%{version}-%{release}-root-%(%{__id_u} -n)
BuildArch:      noarch
BuildRequires:  perl(Carp) >= 1.04
BuildRequires:  perl(ExtUtils::MakeMaker)
BuildRequires:  perl(File::Temp) >= 0.14
BuildRequires:  perl(Storable) >= 2.15
BuildRequires:  perl(Test::More)
BuildRequires:  gnuplot-minimal
Requires:       perl(:MODULE_COMPAT_%(eval "`%{__perl} -V:version`"; echo $version))
Requires:       perl(Carp) >= 1.04
Requires:       perl(File::Temp) >= 0.14
Requires:       perl(Storable) >= 2.15
Requires:       gnuplot
Requires:       ImageMagick

%description
This Perl module is to plot graphs uning GNUPLOT on the fly. In order to
use this module, gnuplot need to be installed. If image format other than
PS and EPS is required to generate, it is recommended to install the
convert program of ImageMagick as well. Please refer to "MECHANISM OF THIS
MODULE" for details.

%prep
%setup -q -n Chart-Gnuplot-%{version}

%build
%{__perl} Makefile.PL INSTALLDIRS=vendor
make %{?_smp_mflags}

%install
rm -rf $RPM_BUILD_ROOT

make pure_install PERL_INSTALL_ROOT=$RPM_BUILD_ROOT

find $RPM_BUILD_ROOT -type f -name .packlist -exec rm -f {} \;
find $RPM_BUILD_ROOT -depth -type d -exec rmdir {} 2>/dev/null \;

%{_fixperms} $RPM_BUILD_ROOT/*

%check
make test

%clean
rm -rf $RPM_BUILD_ROOT

%files
%defattr(-,root,root,-)
%doc Changes README
%{perl_vendorlib}/*
%{_mandir}/man3/*

%changelog
* Thu Apr 09 2015 Daniel Miranda <danielkza2@gmail.com> 0.23-2
- Fix gnuplot and ImageMagick dependencies.

* Wed Apr 08 2015 Daniel Miranda <danielkza2@gmail.com> 0.23-1
- Specfile autogenerated by cpanspec 1.78.
